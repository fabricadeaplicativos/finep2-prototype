<div ng-controller="EditorsCtrl">

	<md-tabs 
		md-dynamic-height 
		md-border-bottom 
		md-selected="editorTabIndex"
	>
	
		<!-- D A T A B A S E -->

		<md-tab label="banco de dados">
			<md-content class="md-padding">
			<table class="table">
				<tr class="tableName">
					
					<!-- T A B L E ' S   N A M E -->
					<div class="form-group">
						<label>nome da tabela:</label>
							
						<div ng-switch="collectionIdInput">

							<!-- When collectionNameInput is true, we'll enable the input field
								 so the user can change the name of the collection -->
							<div class="form-inline" ng-switch-when="true">
								<input ng-model="userValues.collectionId" type="text" class="form-control" id="" ng-value="collection.collectionId">
								<span class="input-group-btn">
								<button ng-click="saveNewCollectionId()" class="btn btn-primary" type="button">salvar</button>
							</div>
							
							<!-- When collectionNameInput is false, we'll disable the input field
								 so the user cannot change the name of the collection -->
							<div class="form-inline" ng-switch-when="false">
								<input type="text" disabled class="form-control" id="" ng-value="collection.collectionId">
								<span class="input-group-btn">
								<button ng-click="editCollectionId()" class="btn btn-primary" type="button">editar</button>
							</div>
						</div>
						 
					</div>

				</tr>

				<thead>
					<tr>
						
						<!-- P R O P E R T I E S   L I S T I N G -->
						<th class="col-edition" ng-repeat="property in collection.properties | orderBy: 'order'">
							<ul class="prop">
								<li class="prop-nome">{{property.default_name}}</li>
								<li class="drop"><i class="fa fa-plus-circle"></i>
									<ul>
										<li class="options">Excluir coluna</li>
										<li class="options">Editar</li>
									</ul>
								</li>
							</ul>

							<input type="text" disabled placeholder="{{property.type}}" class="form-control">
						</th>

						<th id="lhNewColumnEdit" ng-show="showSalvar">
							<input type="text" class="form-control" id="" placeholder="nome da coluna" ng-model="columnToAdd.label">
							<select class="form-control" ng-model="columnToAdd.type" ng-options="t.value as t.label for t in types">
							</select>
						</th>
						<th>
							<!--  <md-button class="md-raised">+ adicionar</md-button> -->
							<button type="button" ng-show="!showSalvar" class="btn btn-primary" ng-click="createNewColumn()">+ coluna</button>
							<button type="button" ng-show="showSalvar" class="btn btn-primary" ng-click="saveNewColumn()" >salvar</button>
						</th>
					</tr>
				</thead>
				<tbody>

					<!-- C O N T E N T   L I S T I N G -->
					<tr ng-repeat="document in collection.data">
						<td ng-repeat="property in document" ng-if="property.property_name != 'id'">

							<!-- We do not want to list the entire property's value because sometimes
							it can be too long (50 characters or more). So, in order to keep the
							value's width short, we need to limit it to up to 30 characters.
							The line below  -->
							{{property.property_value | limitTo:30}}
							<span ng-if="property.property_value.length > 30">...</span>
						</td>
						<td><button type="button" class="btn btn-primary">editar</button></td>
					</tr>

					<!-- C O N T E N T   I N S E R T I O N -->
					<tr>
						<td ng-repeat="property in collection.properties | orderBy: 'order'">
							<input ng-model="userValues.documentToBeInserted[property.default_name]" type="text" class="form-control" placeholder="{{property.default_name}}">
						</td>

						<td>
							<div class="btn-group" role="group" aria-label="">
								<button ng-click="saveData()" type="button" class="btn btn-primary">salvar</button>
							</div>
						</td>
					</tr>
				</tbody>
			</table>

				<!-- <div ui-grid="gridOptions"></div> -->
			</md-content>
		</md-tab>

		<!-- C O N F I G U R A Ç Õ E S -->

		<md-tab label="configurações">
			<md-content class="md-padding">
				<!-- <iframe id="brackets-iframe" src="http://localhost:3101/brackets"></iframe> -->
			</md-content>
		</md-tab>


				<!-- <div ui-grid="gridOptions"></div> -->
			</md-content>
		</md-tab>
		
		<!-- A Ç Õ E S -->

		<md-tab label="ações">
			<md-content class="md-padding">
				<button ng-click="showTableCreate()">ComponenteNovo</button>
				<button ng-click="showTableUse()">ComponenteExistente</button>
				<button ng-click="showTableColumn()">ElementoNovo</button>
			</md-content>
		</md-tab>
	</md-tabs>

</div>

<!-- <th>nome da coluna 1<br />
	<select class="form-control">
		<option value="">tipo</option>
		<option value="1">texto</option>
		<option value="2">imagem</option>
		<option value="3">número</option>
		<option value="4">boolean</option>
		<option value="5">data</option>
		<option value="6">localização</option>
	</select>
</th>
<th>nome da coluna 2<br />
	<select class="form-control">
		<option value="">tipo</option>
		<option value="1">texto</option>
		<option value="2">imagem</option>
		<option value="3">número</option>
		<option value="4">boolean</option>
		<option value="5">data</option>
		<option value="6">localização</option>
	</select>
</th>
<th>nome da coluna 3<br />
	<select class="form-control">
		<option value="">tipo</option>
		<option value="1">texto</option>
		<option value="2">imagem</option>
		<option value="3">número</option>
		<option value="4">boolean</option>
		<option value="5">data</option>
		<option value="6">localização</option>
	</select>
</th> -->
